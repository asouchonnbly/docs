{"openapi":"3.1.0","info":{"title":"Omnichannel API","description":"\n# General\nThis API enables users to route messages across various channels, supporting both single and batch message sending.\n\nIt is implemented as a REST API, requiring interaction via a JSON Web Token (JWT) and an HTTPS client (TLS 1.2 or higher).\n\nOmnichannel API works with a powerful templating engine that allows for advanced customization, including global and per recipient render personalization.\nThe Numberly Martech Platform (NMP) provides the tooling to create fully customizable templates which are used to render and send messages through this API.\n\n\n## Authentication\nThis API uses Json Web Token (JWT) authentication. Tokens can be generated via the `/token` endpoint (see [Get Token](#tag/Authentication/operation/get_token)).\n\nAn account with a valid login / password is required. All the accounts are managed internally by Numberly and can be created upon request.\n    ","version":"1.0"},"paths":{"/api/v1/email/messages/{order_id}":{"post":{"tags":["Email"],"summary":"Send Email (Deprecated)","description":"Send an email message to the specified inbox.","operationId":"Send_email_(deprecated)","deprecated":true,"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","minLength":1,"maxLength":80,"description":"\nAn identifier used to group all messages associated with a specific order.\n\n**Forbidden characters:**\n- Vertical separator (pipe) -> `|`\n            ","examples":["cda00fb9-d358-48d6-9218-3b172d2be958"],"title":"Order Id"},"description":"\nAn identifier used to group all messages associated with a specific order.\n\n**Forbidden characters:**\n- Vertical separator (pipe) -> `|`\n            "}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailSendRequest"}}}},"responses":{"202":{"description":"The emails have been queued for delivery","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListGenericResponse_MessageResponse_BaseMeta_"},"example":{"objects":[{"id":"unique_message_id","recipient":"test@example.com"}],"meta":{"timestamp":123458590}}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/email/messages":{"post":{"tags":["Email"],"summary":"Send Email","description":"Send an email message to the specified inbox.","operationId":"Send_email","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailSendRequest"}}},"required":true},"responses":{"202":{"description":"The emails have been queued for delivery","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListGenericResponse_MessageResponse_BaseMeta_"},"example":{"objects":[{"id":"unique_message_id","recipient":"test@example.com"}],"meta":{"timestamp":123458590}}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/sms/messages/{order_id}":{"post":{"tags":["SMS"],"summary":"Send Sms (Deprecated)","description":"Send **SMS** messages to the specified numbers.\n\nIf the message is too long, it will be split and sent as multiple SMS.","operationId":"Send_SMS_(deprecated)","deprecated":true,"parameters":[{"name":"order_id","in":"path","required":true,"schema":{"type":"string","minLength":1,"maxLength":80,"description":"\nAn identifier used to group all messages associated with a specific order.\n\n**Forbidden characters:**\n- Vertical separator (pipe) -> `|`\n            ","examples":["cda00fb9-d358-48d6-9218-3b172d2be958"],"title":"Order Id"},"description":"\nAn identifier used to group all messages associated with a specific order.\n\n**Forbidden characters:**\n- Vertical separator (pipe) -> `|`\n            "}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsSendRequest"}}}},"responses":{"202":{"description":"The sms have been queued for delivery","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListGenericResponse_MessageResponse_BaseMeta_"},"example":{"objects":[{"id":"unique_message_id","recipient":"+1234567890"}],"meta":{"timestamp":123458590}}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/sms/messages":{"post":{"tags":["SMS"],"summary":"Send Sms","description":"Send **SMS** messages to the specified numbers.\n\nIf the message is too long, it will be split and sent as multiple SMS.","operationId":"Send_SMS","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsSendRequest"}}},"required":true},"responses":{"202":{"description":"The sms have been queued for delivery","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListGenericResponse_MessageResponse_BaseMeta_"},"example":{"objects":[{"id":"unique_message_id","recipient":"+1234567890"}],"meta":{"timestamp":123458590}}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/sms/delivery-logs":{"get":{"tags":["SMS"],"summary":"Delivery Logs","description":"Retrieve information about the status of SMS messages. The API provides two types of delivery logs:\n- **acknowledgement**: confirms whether the SMS was acknowledged by the external SMS routing operator.\n- **delivery receipt**: indicates whether the SMS was successfully received by the recipient.\n\nDelivery logs results are paginated. To retrieve the next set of results,\nthe offset given in the response payload must be committed using the `/delivery-logs/commit` endpoint\n(see [Delivery Logs Commit](#tag/SMS/operation/Delivery_logs_commit)).\n\n**Once commited, previous delivery logs won't be accessible anymore.**","operationId":"Delivery_logs","parameters":[{"name":"sandbox","in":"query","required":false,"schema":{"type":"boolean","description":"If set to True, the request will query the delivery logs for sandbox sends.","default":false,"title":"Sandbox"},"description":"If set to True, the request will query the delivery logs for sandbox sends."},{"name":"type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/SmsDeliveryLogsType","description":"The type of delivery logs to retrieve.","examples":["ack","dr"]},"description":"The type of delivery logs to retrieve."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsDeliveryLogsResponse"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/sms/delivery-logs/commit":{"post":{"tags":["SMS"],"summary":"Delivery Logs Commit","description":"Commit the specified offset for delivery logs. This means that the previous delivery logs **won't be accessible anymore.**","operationId":"Delivery_logs_commit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsDeliveryLogsCommitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsDeliveryLogsResponse"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/sms/inbounds":{"get":{"tags":["SMS"],"summary":"Inbounds","description":"Retrieve information about the response to a sent sms (eg: a STOP response to a marketing sms).\n\nInbounds results are paginated. To retrieve the next set of results,\nthe offset given in the response payload must be committed using the `/inbounds/commit` endpoint\n(see [Inbounds Commit](#tag/SMS/operation/Inbounds_commit)).\n\n**Once commited, previous inbounds won't be accessible anymore.**","operationId":"Inbounds","parameters":[{"name":"sandbox","in":"query","required":false,"schema":{"type":"boolean","description":"If set to True, the request will query the delivery logs for sandbox sends.","default":false,"title":"Sandbox"},"description":"If set to True, the request will query the delivery logs for sandbox sends."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsInboundsResponse"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/sms/inbounds/commit":{"post":{"tags":["SMS"],"summary":"Inbounds Commit","description":"Commit the specified offset for inbounds. This means that the previous inbounds won't be accessible anymore.","operationId":"Inbounds_commit","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsInboundsCommitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SmsInboundsResponse"}}}},"400":{"description":"Validation error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"401":{"description":"Unauthenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"403":{"description":"Not enough privileges","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenericHttpError"}}}}}}},"/api/v1/auth/token":{"post":{"tags":["Authentication"],"summary":"Get Token","description":"This endpoint can be used to generate a new token based on a registered login / password. The generated token can be used to interact with the API until it expires. By default, access tokens are valid for 8 hours (28800 seconds) and refresh tokens for 24 hours (86400 seconds).","operationId":"get_token","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTokenCredentials"}}},"required":true},"responses":{"200":{"description":"The token has been successfully generated.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"403":{"description":"The credentials are not valid."}}}},"/api/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"This endpoint can be used to obtain a new access token using the refresh token provided in the initial get token response. The refresh token must be valid and unexpired. Refresh tokens are valid for 24 hours (86400 seconds) by default and can only be used once.","operationId":"refresh_token","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"The token has been successfully refreshed.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"401":{"description":"The token has expired"},"403":{"description":"The token is invalid"}}}},"/api/v1/auth/revoke":{"post":{"tags":["Authentication"],"summary":"Revoke Token","description":"This endpoint can be used to revoke an existing token, making the specified token unusable for further requests.","operationId":"revoke_token","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevokeTokenRequest"}}},"required":true},"responses":{"200":{"description":"The token has been revoked","content":{"application/json":{"schema":{"$ref":"#/components/schemas/happily__plugins__jwt__handlers__MessageResponse"},"example":{"message":"token revoked"}}}},"401":{"description":"The token has expired"},"403":{"description":"The token is invalid"}}}}},"components":{"schemas":{"Acknowledgment":{"properties":{"creation_date":{"type":"string","title":"Creation Date","description":"Event creation date.","examples":["2000-12-31T10:30:45"]},"send_id":{"type":"integer","title":"Send Id","description":"Internal identification number of the message.","examples":["8962539"]},"guid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Guid","description":"The message unique identifier.","examples":["20250428075654400955BH19W6DVCH"]},"status_date":{"type":"string","title":"Status Date","description":"The date of the last status update.","examples":["2000-12-31T10:30:45"]},"status":{"type":"integer","title":"Status","description":"The status of the acknowledgment.","examples":[0]}},"type":"object","required":["creation_date","send_id","guid","status_date","status"],"title":"Acknowledgment","description":"Represents an acknowledgment log event for an SMS message."},"Address_EmailStr_":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"The name of the recipient.","examples":["John Doe"]},"email":{"type":"string","format":"email","title":"Email","description":"The email address of the recipient.","examples":["john.doe@example.com"]}},"type":"object","required":["email"],"title":"Address[EmailStr]"},"Address_str_":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"The name of the recipient.","examples":["John Doe"]},"email":{"type":"string","title":"Email","description":"The email address of the recipient.","examples":["john.doe@example.com"]}},"type":"object","required":["email"],"title":"Address[str]"},"Attachment":{"properties":{"url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Url","description":"The attachment file url.","examples":["https://example.com/attachment.pdf"]},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"The attachment file name.","examples":["My Attachment"]},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type","description":"The MIME type of the content","examples":["application/pdf"]}},"type":"object","required":["url"],"title":"Attachment","description":"Represents an email attachment."},"BaseMeta":{"properties":{"timestamp":{"type":"number","title":"Timestamp of the request.","description":"The timestamp when the request was made (Unix Time).","examples":[1744375392.0]}},"type":"object","required":["timestamp"],"title":"BaseMeta","description":"Base Meta Object."},"DeliveryReceipt":{"properties":{"creation_date":{"type":"string","title":"Creation Date","description":"Event creation date.","examples":["2000-12-31T10:30:45"]},"send_id":{"type":"integer","title":"Send Id","description":"Internal identification number of the message.","examples":["8962539"]},"guid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Guid","description":"The message unique identifier.","examples":["20250428075654400955BH19W6DVCH"]},"status_date":{"type":"string","title":"Status Date","description":"The date of the last status update.","examples":["2000-12-31T10:30:45"]},"status":{"type":"integer","title":"Status","description":"The status of the delivery receipt.","examples":[0]}},"type":"object","required":["creation_date","send_id","guid","status_date","status"],"title":"Delivery receipt"},"EmailRecipient":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"The name of the recipient.","examples":["John Doe"]},"email":{"type":"string","format":"email","title":"Email","description":"The email address of the recipient.","examples":["john.doe@example.com"]},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params","description":"Additional parameters to be used for customizing the content.","examples":[{"FAVORITE_COLOR":"red","FAVORITE_MUSIC_GENRES":["funk","soul","jazz"]}]}},"type":"object","required":["email"],"title":"EmailRecipient","description":"Represents an email recipient."},"EmailSendRequest":{"properties":{"to":{"items":{"$ref":"#/components/schemas/EmailRecipient"},"type":"array","maxItems":50,"title":"To","description":"The list of recipients (up to **50**)."},"metadata":{"additionalProperties":{"type":"string"},"type":"object","title":"Metadata","description":"Additional message metadata.","default":{}},"content":{"$ref":"#/components/schemas/TemplateContent","description":"The content of the message."},"sandbox":{"type":"boolean","title":"Sandbox","description":"Whether to send the message in sandbox mode.","default":false},"check_deliverability":{"type":"boolean","title":"Check Deliverability","description":"Enable deliveribality validation for recipients.","default":false},"send_at":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Send At","description":"Date to send message (the time in seconds since the EPOCH timestamp), not before now, not after 72h in the future.","examples":["1739276055.0","1739279655.0"]},"cc":{"anyOf":[{"items":{"$ref":"#/components/schemas/Address_EmailStr_"},"type":"array","maxItems":50},{"type":"null"}],"title":"Cc","description":"The list of cc recipients (up to **50**).","examples":[[{"email":"john.doe@example.com","name":"John Doe"},{"email":"jane.doe@example.com"}]]},"bcc":{"anyOf":[{"items":{"$ref":"#/components/schemas/Address_EmailStr_"},"type":"array","maxItems":50},{"type":"null"}],"title":"Bcc","description":"The list of bcc recipients (up to **50**).","examples":[[{"email":"john.doe@example.com","name":"John Doe"},{"email":"jane.doe@example.com"}]]},"attachments":{"anyOf":[{"items":{"$ref":"#/components/schemas/Attachment"},"type":"array"},{"type":"null"}],"title":"Attachments","description":"The list of attachments to include in the email. **The total size of the attachments cannot exceed 25 MB.**"}},"type":"object","required":["to","content"],"title":"EmailSendRequest","description":"Represents a request to send an email."},"GenericHttpError":{"properties":{"detail":{"type":"string","title":"Detail"}},"type":"object","required":["detail"],"title":"GenericHttpError","description":"Generic http error model."},"GetTokenCredentials":{"properties":{"login":{"type":"string","title":"Login","examples":["foo"]},"password":{"type":"string","title":"Password","examples":["bar"]}},"type":"object","required":["login","password"],"title":"GetTokenCredentials","description":"Represents a credentials request model."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ListGenericResponse_MessageResponse_BaseMeta_":{"properties":{"objects":{"items":{"$ref":"#/components/schemas/omnichannel__routes__schemas__base__MessageResponse"},"type":"array","title":"Objects"},"meta":{"$ref":"#/components/schemas/BaseMeta"}},"type":"object","required":["objects","meta"],"title":"ListGenericResponse[MessageResponse, BaseMeta]"},"ReceivedMessage":{"properties":{"creation_date":{"type":"string","title":"Creation Date","examples":["2000-12-31T10:30:45"]},"mo_id":{"type":"integer","title":"Mo Id","description":"Internal identification number of the message."},"to":{"type":"string","title":"To","description":"The recipient of the message.","examples":["+33612345678"]},"sender":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sender","description":"The sender of the message.","examples":["+33612345678"]},"content":{"type":"string","title":"Content"}},"type":"object","required":["creation_date","mo_id","to","sender","content"],"title":"ReceivedMessage"},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"The refresh token generated by the initial request. The request will fail if the token has expired."}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Represents a Refresh Token request model."},"RevokeTokenRequest":{"properties":{"token":{"type":"string","title":"Token","description":"The token to revoke."}},"type":"object","required":["token"],"title":"RevokeTokenRequest","description":"Represents a Revoke Token request model."},"SMSRecipient":{"properties":{"number":{"type":"string","title":"Number","description":"The phone number to which the message will be sent. Should be in E.164 format.","examples":["+33612345678"]},"params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Params","description":"Additional parameters to be used for customizing the content.","examples":[{"FAVORITE_COLOR":"red","FAVORITE_MUSIC_GENRES":["funk","soul","jazz"]}]}},"type":"object","required":["number"],"title":"SMSRecipient","description":"Represents a SMS recipient."},"SmsDeliveryLogsCommitRequest":{"properties":{"offset":{"type":"integer","title":"Offset","description":"The offset to commit.","examples":[10]},"sandbox":{"type":"boolean","title":"Sandbox","description":"Whether to commit the offset for sandbox delivery logs.","default":false}},"type":"object","required":["offset"],"title":"SmsDeliveryLogsCommitRequest"},"SmsDeliveryLogsResponse":{"properties":{"objects":{"items":{"anyOf":[{"$ref":"#/components/schemas/Acknowledgment"},{"$ref":"#/components/schemas/DeliveryReceipt"}]},"type":"array","title":"Objects","description":"The list of retrieved logs, either acknowledgment or delivery receipt.","default":[],"examples":[[{"creation_date":"2024-12-31T15:26:45","order_id":"cda00fb9-d358-48d6-9218-3b172d2be958","send_id":8962539,"status":0,"status_date":"2024-12-31T15:26:45"}]]},"meta":{"$ref":"#/components/schemas/SmsLogsMetadata"}},"type":"object","required":["meta"],"title":"SmsDeliveryLogsResponse","description":"Represents a response object for SMS delivery logs."},"SmsDeliveryLogsType":{"type":"string","enum":["ack","dr"],"title":"SmsDeliveryLogsType","description":"An enumeration representing the types of SMS delivery logs."},"SmsInboundsCommitRequest":{"properties":{"offset":{"type":"integer","title":"Offset","description":"The offset to commit.","examples":[10]},"sandbox":{"type":"boolean","title":"Sandbox","description":"Whether to commit the offset for sandbox delivery logs.","default":false}},"type":"object","required":["offset"],"title":"SmsInboundsCommitRequest"},"SmsInboundsResponse":{"properties":{"objects":{"items":{"$ref":"#/components/schemas/ReceivedMessage"},"type":"array","title":"Objects","description":"This list of retrieved received messages.","default":[],"examples":[[{"content":"STOP","creation_date":"2024-12-31T15:26:45","mo_id":823871,"sender":"+33612345678","to":"3309"}]]},"meta":{"$ref":"#/components/schemas/SmsLogsMetadata"}},"type":"object","required":["meta"],"title":"SmsInboundsResponse","description":"Represents a response object for SMS inbounds."},"SmsLogsMetadata":{"properties":{"timestamp":{"type":"number","title":"Timestamp of the request.","description":"The timestamp when the request was made (Unix Time).","examples":[1744375392.0]},"offset":{"type":"integer","title":"Offset","description":"Current offset for the retrieved logs.","default":-1,"examples":[10]},"has_more":{"type":"boolean","title":"Has More","description":"The data field has a maximum length (defined internally). If has_more is set to True, this means that data has reached its maximum length and you need to commit the offset to get the next  logs."}},"type":"object","required":["timestamp","has_more"],"title":"SmsLogsMetadata","description":"Represents a metadata object for SMS logs."},"SmsSendRequest":{"properties":{"to":{"items":{"$ref":"#/components/schemas/SMSRecipient"},"type":"array","maxItems":50,"title":"To","description":"The list of recipients (up to **50**)."},"metadata":{"additionalProperties":{"type":"string"},"type":"object","title":"Metadata","description":"Additional message metadata.","default":{}},"content":{"$ref":"#/components/schemas/TemplateContent","description":"The content of the message."},"sandbox":{"type":"boolean","title":"Sandbox","description":"Whether to send the message in sandbox mode.","default":false},"check_deliverability":{"type":"boolean","title":"Check Deliverability","description":"Enable deliveribality validation for recipients.","default":false},"send_at":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Send At","description":"Date to send message (the time in seconds since the EPOCH timestamp), not before now, not after 72h in the future.","examples":["1739276055.0","1739279655.0"]}},"type":"object","required":["to","content"],"title":"SmsSendRequest","description":"Represents a request to send a SMS message."},"TemplateContent":{"properties":{"template_id":{"type":"string","title":"Template Id","description":"The identifier of the content template to use for this send. This template must be pre-configured in the Numberly Martech Platform (NMP).","examples":["ae5f2a8b-1000-451e-888a-9ca08f5d1bdc","CLIENT_ID_0175e8a99100"]},"template_params":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Template Params","description":"A dictionary containing parameters used for customizing the content.","examples":[{"DATE":"01-01-2000","DESTINATION":"London"},{"destinations":[{"city":"London","country":"United Kingdom"},{"city":"Liverpool","country":"United Kingdom"},{"city":"Manchester","country":"United Kingdom"}],"flights":["A5","B2","C3"]}]},"template_version":{"$ref":"#/components/schemas/TemplateVersionEnum","description":"Which version of the template to use for rendering the content.","default":"published"}},"type":"object","required":["template_id"],"title":"TemplateContent","description":"Defines which template is used for customizing the content of a message."},"TemplateVersionEnum":{"type":"string","enum":["draft","published"],"title":"TemplateVersionEnum","description":"An enumeration representing the versions of the template.\n\nAttributes:\n    published: Represents the published version of a template.\n    draft: Represents the draft version of a template.\n    ephemeral: Represents the ephemeral version of a template."},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"The generated token used for authentication."},"expires_in":{"type":"integer","title":"Expires In","description":"Total duration in seconds before a token expires (default: 28800 seconds / 8 hours).","examples":[28800]},"token_type":{"type":"string","title":"Token Type","description":"The token type.","examples":["Bearer"]},"refresh_token":{"type":"string","title":"Refresh Token","description":"The generated token used for refresh."},"refresh_token_expires_in":{"type":"integer","title":"Refresh Token Expires In","description":"Total duration in seconds before a refresh token expires (default: 86400 seconds / 24 hours).","examples":[86400]}},"type":"object","required":["access_token","expires_in","token_type","refresh_token","refresh_token_expires_in"],"title":"TokenResponse","description":"Represents a token response model."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"happily__plugins__jwt__handlers__MessageResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageResponse","description":"Represents a default response model."},"omnichannel__routes__schemas__base__MessageResponse":{"properties":{"id":{"type":"string","title":"Message ID","description":"Unique identifier for the message.","examples":["B64MjAyNTA0MTExMDMyMTA3MjQ4ODA2YjdjYjVmOGQzOTU0MDM1YTQ5YmYyYzJiNjdlNTdhOXwyOTA2fDE1NzJ8RXwyMDI1MTEwNDEwMzIxMF8wX2NybWFfdGVzdF82OTQ0OHwyMDI1MDQxMTEwMzIxMDcyNDkyMkpOWVVGRUw2T0t8Q1JNQV9UZXN0X0NSTTI"]},"recipient":{"type":"string","title":"Recipient","description":"The recipient of the message, can be an email or mobile number depending on the channel.","examples":["+3367891234","test@example.com"]}},"type":"object","required":["id","recipient"],"title":"MessageResponse","description":"Message response object."}}},"tags":[{"name":"Email","description":"\nThis section regroups all the endpoints related to email routing:\n1. **Send Email**:\n    - Send email messages, up to 50 batched recipients per call.\n\nAll the endpoints listed above required a valid JWT to interact with.\n"},{"name":"SMS","description":"\nThis section regroups all the endpoints related to SMS routing:\n1. **Send SMS**:\n    - Send SMS messages, up to 50 batched recipients per call.\n2. **Get delivery logs**:\n    - Retrieve delivery logs to trace the status of previously sent sms messages.\n3. **Commit delivery logs**:\n    - Commit the delivery logs offset.\n4. **Get inbounds**:\n    - Retrieve users' replies messages.\n5. **Commit inbounds**:\n    - Commit the inbounds offset.\n\nAll the endpoints listed above required a valid JWT to interact with.\n"}]}